{"ast":null,"code":"var _jsxFileName = \"/Users/relationskatie/study_golang/Hackathon2GIS/frontend/src/Map2GIS.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport { load } from '@2gis/mapgl';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Map2GIS = () => {\n  _s();\n  const [markers, setMarkers] = useState([[55.31878, 25.23584], [55.32000, 25.23700]]);\n  const mapRef = useRef(null); // хранит объект карты\n  const mapglAPIRef = useRef(null); // хранит API для создания маркеров\n\n  // Инициализация карты\n  useEffect(() => {\n    load().then(mapglAPI => {\n      mapglAPIRef.current = mapglAPI;\n      mapRef.current = new mapglAPI.Map('map-container', {\n        center: [55.31878, 25.23584],\n        zoom: 13,\n        key: '8f104049-075f-4c47-817b-b8b450854d86'\n      });\n\n      // Создаем маркеры, которые уже есть в состоянии\n      markers.forEach(coords => {\n        new mapglAPI.Marker(mapRef.current, {\n          coordinates: coords\n        });\n      });\n    });\n    return () => mapRef.current && mapRef.current.destroy();\n  }, []); // пустой массив зависимостей — карта создается один раз\n\n  // Добавление нового маркера\n  const addMarker = () => {\n    const newCoords = [55.31950, 25.23650]; // новые координаты (можно сделать случайными)\n    setMarkers(prev => [...prev, newCoords]);\n\n    // Добавляем маркер на карту сразу, если она уже инициализирована\n    if (mapRef.current && mapglAPIRef.current) {\n      new mapglAPIRef.current.Marker(mapRef.current, {\n        coordinates: newCoords\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '100%',\n      height: '100%'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: addMarker,\n      style: {\n        position: 'absolute',\n        zIndex: 10,\n        top: 10,\n        left: 10\n      },\n      children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043C\\u0430\\u0440\\u043A\\u0435\\u0440\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"map-container\",\n      style: {\n        width: '100%',\n        height: '100%'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n};\n_s(Map2GIS, \"Lt33/EHyUQR2eLCz7aGWjksWiF8=\");\n_c = Map2GIS;\nvar _c;\n$RefreshReg$(_c, \"Map2GIS\");","map":{"version":3,"names":["React","useEffect","useState","useRef","load","jsxDEV","_jsxDEV","Map2GIS","_s","markers","setMarkers","mapRef","mapglAPIRef","then","mapglAPI","current","Map","center","zoom","key","forEach","coords","Marker","coordinates","destroy","addMarker","newCoords","prev","style","width","height","children","onClick","position","zIndex","top","left","fileName","_jsxFileName","lineNumber","columnNumber","id","_c","$RefreshReg$"],"sources":["/Users/relationskatie/study_golang/Hackathon2GIS/frontend/src/Map2GIS.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport { load } from '@2gis/mapgl';\n\nexport const Map2GIS = () => {\n    const [markers, setMarkers] = useState([\n        [55.31878, 25.23584],\n        [55.32000, 25.23700],\n    ]);\n\n    const mapRef = useRef(null); // хранит объект карты\n    const mapglAPIRef = useRef(null); // хранит API для создания маркеров\n\n    // Инициализация карты\n    useEffect(() => {\n        load().then((mapglAPI) => {\n            mapglAPIRef.current = mapglAPI;\n            mapRef.current = new mapglAPI.Map('map-container', {\n                center: [55.31878, 25.23584],\n                zoom: 13,\n                key: '8f104049-075f-4c47-817b-b8b450854d86',\n            });\n\n            // Создаем маркеры, которые уже есть в состоянии\n            markers.forEach(coords => {\n                new mapglAPI.Marker(mapRef.current, { coordinates: coords });\n            });\n        });\n\n        return () => mapRef.current && mapRef.current.destroy();\n    }, []); // пустой массив зависимостей — карта создается один раз\n\n    // Добавление нового маркера\n    const addMarker = () => {\n        const newCoords = [55.31950, 25.23650]; // новые координаты (можно сделать случайными)\n        setMarkers(prev => [...prev, newCoords]);\n\n        // Добавляем маркер на карту сразу, если она уже инициализирована\n        if (mapRef.current && mapglAPIRef.current) {\n            new mapglAPIRef.current.Marker(mapRef.current, { coordinates: newCoords });\n        }\n    };\n\n    return (\n        <div style={{ width: '100%', height: '100%' }}>\n            <button\n                onClick={addMarker}\n                style={{ position: 'absolute', zIndex: 10, top: 10, left: 10 }}\n            >\n                Добавить маркер\n            </button>\n            <div id=\"map-container\" style={{ width: '100%', height: '100%' }}></div>\n        </div>\n    );\n};\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AAC1D,SAASC,IAAI,QAAQ,aAAa;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnC,OAAO,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACzB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGR,QAAQ,CAAC,CACnC,CAAC,QAAQ,EAAE,QAAQ,CAAC,EACpB,CAAC,QAAQ,EAAE,QAAQ,CAAC,CACvB,CAAC;EAEF,MAAMS,MAAM,GAAGR,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;EAC7B,MAAMS,WAAW,GAAGT,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;;EAElC;EACAF,SAAS,CAAC,MAAM;IACZG,IAAI,CAAC,CAAC,CAACS,IAAI,CAAEC,QAAQ,IAAK;MACtBF,WAAW,CAACG,OAAO,GAAGD,QAAQ;MAC9BH,MAAM,CAACI,OAAO,GAAG,IAAID,QAAQ,CAACE,GAAG,CAAC,eAAe,EAAE;QAC/CC,MAAM,EAAE,CAAC,QAAQ,EAAE,QAAQ,CAAC;QAC5BC,IAAI,EAAE,EAAE;QACRC,GAAG,EAAE;MACT,CAAC,CAAC;;MAEF;MACAV,OAAO,CAACW,OAAO,CAACC,MAAM,IAAI;QACtB,IAAIP,QAAQ,CAACQ,MAAM,CAACX,MAAM,CAACI,OAAO,EAAE;UAAEQ,WAAW,EAAEF;QAAO,CAAC,CAAC;MAChE,CAAC,CAAC;IACN,CAAC,CAAC;IAEF,OAAO,MAAMV,MAAM,CAACI,OAAO,IAAIJ,MAAM,CAACI,OAAO,CAACS,OAAO,CAAC,CAAC;EAC3D,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;;EAER;EACA,MAAMC,SAAS,GAAGA,CAAA,KAAM;IACpB,MAAMC,SAAS,GAAG,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC,CAAC;IACxChB,UAAU,CAACiB,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAED,SAAS,CAAC,CAAC;;IAExC;IACA,IAAIf,MAAM,CAACI,OAAO,IAAIH,WAAW,CAACG,OAAO,EAAE;MACvC,IAAIH,WAAW,CAACG,OAAO,CAACO,MAAM,CAACX,MAAM,CAACI,OAAO,EAAE;QAAEQ,WAAW,EAAEG;MAAU,CAAC,CAAC;IAC9E;EACJ,CAAC;EAED,oBACIpB,OAAA;IAAKsB,KAAK,EAAE;MAAEC,KAAK,EAAE,MAAM;MAAEC,MAAM,EAAE;IAAO,CAAE;IAAAC,QAAA,gBAC1CzB,OAAA;MACI0B,OAAO,EAAEP,SAAU;MACnBG,KAAK,EAAE;QAAEK,QAAQ,EAAE,UAAU;QAAEC,MAAM,EAAE,EAAE;QAAEC,GAAG,EAAE,EAAE;QAAEC,IAAI,EAAE;MAAG,CAAE;MAAAL,QAAA,EAClE;IAED;MAAAM,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eACTlC,OAAA;MAAKmC,EAAE,EAAC,eAAe;MAACb,KAAK,EAAE;QAAEC,KAAK,EAAE,MAAM;QAAEC,MAAM,EAAE;MAAO;IAAE;MAAAO,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACvE,CAAC;AAEd,CAAC;AAAChC,EAAA,CAlDWD,OAAO;AAAAmC,EAAA,GAAPnC,OAAO;AAAA,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}